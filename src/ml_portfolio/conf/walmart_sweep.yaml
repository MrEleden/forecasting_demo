# Walmart Model Comparison Sweep with MLflow
# Usage: python src/ml_portfolio/training/train.py --config-name walmart_sweep

defaults:
  - walmart  # Inherit from walmart.yaml
  - _self_

# Override to enable MLflow
use_mlflow: true
experiment_name: walmart_model_comparison
run_name: null  # Auto-generated per model
dataset_name: Walmart_Sales  # Shows in Dataset column
description: null  # Auto-generated: "{model} forecasting on {dataset} data"

# Hydra sweeper configuration
hydra:
  sweeper:
    params:
      model: lightgbm,xgboost,catboost,random_forest,prophet

  # Configure multirun output
  sweep:
    dir: multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num}

  # Run configuration
  run:
    dir: outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}

# Optimization settings
# This tells the system which metric to optimize (will be used for model selection)
primary_metric: mape
minimize: true  # Lower MAPE is better
